SLOT_DICT = {
    "口味": ["麻辣", "清淡", "酸甜", "重口味", "不辣", "咸鲜", "香辣", "微辣"],
    "菜系": ["川菜", "湘菜", "粤菜", "东北菜", "日料", "西餐", "本帮菜", "火锅", "烧烤"],
    "饮品": ["啤酒", "果汁", "奶茶", "红酒", "白酒", "可乐", "咖啡", "气泡水"],
    "游戏": ["麻将", "斗地主", "狼人杀", "你画我猜", "谁是卧底", "拼图游戏"],
    "场景": ["朋友聚会", "公司年会", "家庭聚餐", "情侣约会", "生日宴", "商务宴请"],
    "就餐环境": ["有包间", "安静", "适合聊天", "亲子环境", "环境优雅", "有音乐", "正式"],
    "就餐形式": ["桌餐", "围炉", "自助餐", "火锅", "烧烤", "快餐"],
    "健康偏好": ["低脂", "高蛋白", "无糖", "清淡"],
    "特殊节日": ["情人节", "七夕", "圣诞节", "元旦"],
    "天气状态": ["寒冷", "炎热", "阴雨", "晴朗"],
    "忌口": ["不吃辣", "忌海鲜"],
    "过敏原": ["花生", "牛奶", "海鲜"]
}

# 新增：槽位别名映射（用于识别用户口语）
SLOT_ALIAS_MAP = {
    # 口味别名
    "清淡": ["清口", "少油", "不要太油腻", "轻一点"],
    "麻辣": ["辣的", "够劲爆", "四川那种味道", "重口"],
    "不辣": ["不辣的", "不能吃辣", "不要放辣", "微辣就行"],

    # 菜系别名
    "川菜": ["四川菜", "成都风味", "辣子多"],
    "湘菜": ["湖南菜", "辣得狠"],
    "粤菜": ["广东菜", "广府菜"],
    "东北菜": ["北方菜", "大锅炖", "家常菜"],
    "日料": ["寿司", "刺身", "日本料理"],
    "西餐": ["牛排", "意面", "洋餐"],
    "火锅": ["涮锅", "麻辣烫", "热锅"],
    "烧烤": ["烤串", "撸串", "BBQ"],

    # 饮品别名
    "啤酒": ["啤的", "喝两瓶啤", "来点冰的"],
    "白酒": ["高度酒", "烧喉", "一口闷"],
    "奶茶": ["奶盖", "芝士奶盖", "茶饮"],
    "果汁": ["鲜榨", "果茶", "水果汁"],

    # 场景别名
    "朋友聚会": ["大家一块儿吃", "朋友一起玩", "多人聚餐"],
    "情侣约会": ["二人世界", "小两口吃饭", "约会吃饭"],
    "家庭聚餐": ["带娃吃饭", "一家老小聚餐"],

    # 就餐形式别名
    "围炉": ["围炉煮茶", "炭火煮茶", "围炉夜话"],
    "自助餐": ["随便拿", "想吃多少拿多少", "任吃"],

    # 健康偏好别名
    "低脂": ["少油少盐", "减肥餐", "轻食"],
    "无糖": ["不加糖", "少糖", "控糖"],

    # 忌口别名
    "不吃辣": ["怕辣", "不太能吃辣", "辣的不行"],
    "忌海鲜": ["不吃鱼虾", "海鲜过敏", "甲壳类不要"],

    # 过敏原别名
    "花生": ["坚果", "nuts", "花仁"],
    "牛奶": ["乳制品", "奶制品", "dairy"],
}

# 新增：地方特色菜品映射（可用于推荐）
LOCAL_SPECIALTY = {
    "北京": ["涮羊肉", "炸酱面", "卤煮"],
    "上海": ["生煎包", "蟹粉小笼", "腌笃鲜"],
    "广州": ["早茶", "白切鸡", "肠粉"],
    "成都": ["火锅", "冒菜", "钟水饺"],
    "长沙": ["剁椒鱼头", "臭豆腐", "口味虾"],
    "西安": ["肉夹馍", "凉皮", "羊肉泡馍"],
    "重庆": ["麻辣火锅", "毛血旺", "串串香"],
    "杭州": ["东坡肉", "西湖醋鱼", "龙井虾仁"],
    "武汉": ["热干面", "豆皮", "鸭脖"],
    "哈尔滨": ["锅包肉", "红肠", "俄式西餐"],
    "深圳": ["港式茶餐厅", "潮汕牛肉火锅", "新派融合菜"],
}


GAME_RECOMMENDATION_RULES = {
    "朋友聚会": ["麻将", "斗地主", "狼人杀"],
    "情侣约会": ["你画我猜", "真心话大冒险", "默契挑战"],
    "家庭聚餐": ["拼图游戏", "亲子互动游戏", "谁是卧底"],
    "公司年会": ["桌游+角色扮演", "团队推理", "卡牌竞技"],
    "商务宴请": ["轻松聊天类游戏", "背景音乐氛围互动"]
}

GAME_ENVIRONMENT_MAP = {
    "有包间": ["麻将", "狼人杀", "拼图游戏"],
    "适合聊天": ["你画我猜", "谁是卧底", "真心话大冒险"],
    "正式": ["轻节奏桌游", "推理类", "策略型"],
    "安静": ["拼图游戏", "卡牌类", "手机App小游戏"]
}
ORDER_KEYWORDS = [
    "下单", "点菜", "订位", "订桌", "订好了", "订过", "订座", "订餐",
    "点了", "选好了", "确定了", "已经订", "准备点菜"
]

ORDER_ALIAS_MAP = {
    "下单": ["点菜", "订位", "订桌", "订座", "订餐"],
    "已下单": ["订好了", "订过", "确定了", "已经订"]
}

INTENT_TO_TEMPLATE_MAP = {
    "order": "enhanced_basic_with_all",
    "game_recommendation": "pre_meal_game_recommendation",
    "healthy_diet": "healthy_diet_recommendation",
    "festival": "festival_special_meal_recommendation",
    "vegetarian": "vegetarian_meal_recommendation",
    "weather_based": "cold_weather_meal_recommendation",  # 或根据天气动态判断
    "child_or_elderly": "child_or_elderly_health_meal"
}